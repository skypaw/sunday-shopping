<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
 	<meta name="description" content="Czy dziś jest niedziela handlowa? Sprawdź kiedy wypadają niedziele handlowe w 2022 roku"/>
	<meta property="og:image" content="https://czyjesthandlowa.pl/og-image.jpg"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Czy dziś jest niedziela handlowa</title>
  </head>
  <body>
    <main class="px-3">
		<div class="container my-5 bg-light text-dark">
		    <div class="row p-4 pt-lg-5 align-items-center rounded-3 border shadow-lg">
		      <div class="p-3 p-lg-5 pt-lg-3">
		        <h2 class="display-4 lh-1  text-center">Czy dziś jest niedziela handlowa?</h2>
		        <h1 id="is-shopping-allowed" class="display-4 fw-bold lh-1 pt-4 text-center">Nie</h1>
		        <div class="row pt-5">
		        <p class="lead">Najbliższe niedziele handlowe:</p>
			       <div class="container">
			        <ul id="next-sunday" class="list-group">
					</ul>
					</div>
		    	</div>
		      </div>
		    </div>
		</div>
	  </main>
	<script type="text/javascript">
		const date = new Date();
		let day = date.getDate();
		let month = date.getMonth() + 1;
		let year = date.getFullYear();
		let currentDate = `${month}/${day}/${year}`;
		const shoppingAllowed = ['12/11/2022','12/18/2022','1/29/2023','4/2/2023','4/30/2023','6/25/2023','6/25/2023','8/27/2023','12/17/2023','12/24/2023','1/28/2024','3/24/2024','4/28/2024','6/30/2024','8/25/2024','12/15/2024','12/22/2024']

		if (shoppingAllowed.includes(currentDate)){
			let isAllowed = document.getElementById('is-shopping-allowed');
			isAllowed.innerHTML = isAllowed.innerHTML.replace("Nie", "Tak");
		}

		let counter = 0;
		shoppingAllowed.forEach(i => {
			let nextSundayDate = new Date(i);
			if (date < nextSundayDate){ 
				if (counter < 3){
					let currentDate = convertDate(nextSundayDate);
					let node = document.createElement("li");
					let textnode = document.createTextNode(currentDate);
					node.appendChild(textnode);
					node.classList.add("list-group-item");
					document.getElementById("next-sunday").appendChild(node);
				}
				counter += 1;
			} 
		})

		function convertDate(nextSundayDate) {
			const months = ['01','02','03','04','05','06','07','08','09','10','11','12',]
			let day = nextSundayDate.getDate();
			let month = months[nextSundayDate.getMonth()];
			let year = nextSundayDate.getFullYear();
			return `${day}.${month}.${year}`;
		}
	</script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  </body>
</html>
